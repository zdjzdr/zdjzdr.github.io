<!DOCTYPE html>












  


<html class="theme-next gemini use-motion" lang="zh-CN">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2"/>
<meta name="theme-color" content="#222"/>
























<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2"/>

<link rel="stylesheet" href="/css/main.css?v=7.1.0"/>


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=7.1.0">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=7.1.0">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=7.1.0">


  <link rel="mask-icon" href="/images/logo.svg?v=7.1.0" color="#222">







<script id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    version: '7.1.0',
    sidebar: {"position":"left","display":"post","offset":12,"onmobile":false,"dimmer":false},
    back2top: true,
    back2top_sidebar: false,
    fancybox: false,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  




  <meta name="description" content="MySQL语法-Day571. 用户、权限操作1.1 用户操作1234567891011-- 创建用户(root账号登陆服务器)-- create user &amp;apos;用户名&amp;apos;@&amp;apos;ip地址&amp;apos; identified by &amp;apos;密码&amp;apos;      ip地址为 % 表示 所有地址--- 都可以登陆	use mysql	create user &amp;apos;d">
<meta name="keywords" content="mysql">
<meta property="og:type" content="article">
<meta property="og:title" content="MySQL语法-Day57">
<meta property="og:url" content="http://www.139139.cn/8eb5804a.html">
<meta property="og:site_name" content="渝周砺行路">
<meta property="og:description" content="MySQL语法-Day571. 用户、权限操作1.1 用户操作1234567891011-- 创建用户(root账号登陆服务器)-- create user &amp;apos;用户名&amp;apos;@&amp;apos;ip地址&amp;apos; identified by &amp;apos;密码&amp;apos;      ip地址为 % 表示 所有地址--- 都可以登陆	use mysql	create user &amp;apos;d">
<meta property="og:locale" content="zh-CN">
<meta property="og:updated_time" content="2019-04-06T12:05:49.869Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="MySQL语法-Day57">
<meta name="twitter:description" content="MySQL语法-Day571. 用户、权限操作1.1 用户操作1234567891011-- 创建用户(root账号登陆服务器)-- create user &amp;apos;用户名&amp;apos;@&amp;apos;ip地址&amp;apos; identified by &amp;apos;密码&amp;apos;      ip地址为 % 表示 所有地址--- 都可以登陆	use mysql	create user &amp;apos;d">





  
  
  <link rel="canonical" href="http://www.139139.cn/8eb5804a"/>



<script id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title>MySQL语法-Day57 | 渝周砺行路</title>
  






  <script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?b9d76e46c0e10930a98dac8ef4006720";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>







  <noscript>
  <style>
  .use-motion .motion-element,
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-title { opacity: initial; }

  .use-motion .logo,
  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-CN">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">渝周砺行路</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
    
      
        <p class="site-subtitle">生产管理、采购管理、程序设计（Python、SQL、HTML、CSS、Javascript）</p>
      
    
    
  </div>

  <div class="site-nav-toggle">
    <button aria-label="切换导航栏">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>



<nav class="site-nav">
  
    <ul id="menu" class="menu">
      
        
        
        
          
          <li class="menu-item menu-item-home">

    
    
    
      
    

    
      
    

    <a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i> <br/>首页</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-about">

    
    
    
      
    

    
      
    

    <a href="/about/" rel="section"><i class="menu-item-icon fa fa-fw fa-user"></i> <br/>关于</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-tags">

    
    
    
      
    

    
      
    

    <a href="/tags/" rel="section"><i class="menu-item-icon fa fa-fw fa-tags"></i> <br/>标签<span class="badge">13</span></a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-categories">

    
    
    
      
    

    
      
    

    <a href="/categories/" rel="section"><i class="menu-item-icon fa fa-fw fa-th"></i> <br/>分类<span class="badge">4</span></a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-archives">

    
    
    
      
    

    
      
    

    <a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i> <br/>归档<span class="badge">41</span></a>

  </li>

      
      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br/>搜索</a>
        </li>
      
    </ul>
  

  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off"
             placeholder="搜索..." spellcheck="false"
             type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



  



</div>
    </header>

    


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
            

          
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://www.139139.cn/8eb5804a.html"/>

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="渝周郎"/>
      <meta itemprop="description" content="记录工作点滴,业余学习点滴"/>
      <meta itemprop="image" content="/images/avatar.gif"/>
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="渝周砺行路"/>
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">MySQL语法-Day57

              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2019-01-19 16:45:02" itemprop="dateCreated datePublished" datetime="2019-01-19T16:45:02+08:00">2019-01-19</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2019-04-06 20:05:49" itemprop="dateModified" datetime="2019-04-06T20:05:49+08:00">2019-04-06</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/编程/" itemprop="url" rel="index"><span itemprop="name">编程</span></a></span>

                
                
              
            </span>
          

          
            
            
              
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
            
                <span class="post-meta-item-text">评论数：</span>
                <a href="/8eb5804a.html#comments" itemprop="discussionUrl">
                  <span class="post-comments-count valine-comment-count" data-xid="/8eb5804a.html" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          
            <span id="/8eb5804a.html" class="leancloud_visitors" data-flag-title="MySQL语法-Day57">
              <span class="post-meta-divider">|</span>
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              
                <span class="post-meta-item-text">阅读次数：</span>
              
                <span class="leancloud-visitors-count"></span>
            </span>
          

          
            <span class="post-meta-divider">|</span>
            <span class="post-meta-item-icon"
            >
            <i class="fa fa-eye"></i>
             阅读次数： 
            <span class="busuanzi-value" id="busuanzi_value_page_pv"></span>
            </span>
          

          
            <div class="post-symbolscount">
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">本文字数：</span>
                
                <span title="本文字数">9.5k</span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">9 分钟</span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <h2 id="MySQL语法-Day57"><a href="#MySQL语法-Day57" class="headerlink" title="MySQL语法-Day57"></a>MySQL语法-Day57</h2><h4 id="1-用户、权限操作"><a href="#1-用户、权限操作" class="headerlink" title="1. 用户、权限操作"></a>1. 用户、权限操作</h4><h5 id="1-1-用户操作"><a href="#1-1-用户操作" class="headerlink" title="1.1 用户操作"></a>1.1 用户操作</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">-- 创建用户(root账号登陆服务器)</span><br><span class="line">-- create user &apos;用户名&apos;@&apos;ip地址&apos; identified by &apos;密码&apos;      ip地址为 % 表示 所有地址--- 都可以登陆</span><br><span class="line">	use mysql</span><br><span class="line">	create user &apos;dbuser1&apos;@&apos;%&apos; identified by &apos;123456&apos;;</span><br><span class="line">-- 删除用户</span><br><span class="line">drop user &apos;用户名&apos;@&apos;IP地址&apos;;</span><br><span class="line">-- 修改用户</span><br><span class="line">rename user &apos;用户名&apos;@&apos;IP地址&apos; to &apos;新用户名&apos;@&apos;IP地址&apos;;</span><br><span class="line">-- 修改密码</span><br><span class="line">set password for &apos;用户名&apos;@&apos;IP地址&apos; = Password(&apos;新密码&apos;)</span><br><span class="line">-- ps:用户权限相关数据保存在mysql数据库的user表中，也可以直接对其进行操作（不建议）</span><br></pre></td></tr></table></figure>
<h5 id="1-2-权限操作"><a href="#1-2-权限操作" class="headerlink" title="1.2 权限操作"></a>1.2 权限操作</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">-- 查看权限</span><br><span class="line">show grants for &apos;用户&apos;@&apos;IP地址&apos;;</span><br><span class="line">-- 设置权限</span><br><span class="line">grant 权限 on 数据库.表 to &apos;用户&apos;@&apos;IP地址&apos;;</span><br><span class="line">-- grant select,insert,update,delete on 数据库.表 to 用户名@ip地址    </span><br><span class="line">	grant select,insert,update on db1.* to &apos;dbuser1&apos;@&apos;%&apos;;</span><br><span class="line">	-- 上句表示在dbl数据库的所有表中分配select,insert,update的权限给用户dbuser1</span><br><span class="line">	grant all privileges on *.* to &apos;zdj&apos;@&apos;%&apos;;  </span><br><span class="line">	-- 上句表示在所有数据库中分配所有权限给用户zdj</span><br><span class="line">-- 取消权限</span><br><span class="line">remove 权限 on 数据库.表 from &apos;用户&apos;@&apos;IP地址&apos;;</span><br></pre></td></tr></table></figure>
<h6 id="1-2-1-权限说明"><a href="#1-2-1-权限说明" class="headerlink" title="1.2.1 权限说明"></a>1.2.1 权限说明</h6><blockquote>
<pre><code>all privileges             除grant外的所有权限
select          仅查权限
select,insert   查和插入权限
usage                   无访问权限
alter                   使用alter table
alter routine           使用alter procedure和drop procedure
create                  使用create table
create routine          使用create procedure
create temporary tables 使用create temporary tables
create user             使用create user、drop user、rename user和revoke  all privileges
create view             使用create view
delete                  使用delete
drop                    使用drop table
execute                 使用call和存储过程
file                    使用select into outfile 和 load data infile
grant option            使用grant 和 revoke
index                   使用index
insert                  使用insert
lock tables             使用lock table
process                 使用show full processlist
select                  使用select
show databases          使用show databases
show view               使用show view
update                  使用update
reload                  使用flush
shutdown                使用mysqladmin shutdown(关闭MySQL)
super                   使用change master、kill、logs、purge、master和set global。还允许`mysqladmin`调试登陆
replication client      服务器位置的访问
replication slave       由复制从属使用
</code></pre></blockquote>
<h6 id="1-2-2-目标数据库说明"><a href="#1-2-2-目标数据库说明" class="headerlink" title="1.2.2 目标数据库说明"></a>1.2.2 目标数据库说明</h6><blockquote>
<pre><code>数据库名.*           数据库中的所有
  数据库名.表          指定数据库中的某张表
  数据库名.存储过程     指定数据库中的存储过程
  `*.* `               所有数据库
  用户名@IP地址         用户只能在改IP下才能访问
  用户名@192.168.1.%   用户只能在改IP段下才能访问(通配符%表示任意)
  用户名@%             用户可以再任意IP下访问(默认IP地址为%)
</code></pre></blockquote>
<h4 id="2-数据库操作"><a href="#2-数据库操作" class="headerlink" title="2. 数据库操作"></a>2. 数据库操作</h4><h5 id="2-1-显示数据库"><a href="#2-1-显示数据库" class="headerlink" title="2.1 显示数据库"></a>2.1 显示数据库</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">show databases;</span><br></pre></td></tr></table></figure>
<h5 id="2-2-创建数据库"><a href="#2-2-创建数据库" class="headerlink" title="2.2 创建数据库"></a>2.2 创建数据库</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">-- create database 数据库名 default charset utf8;</span><br><span class="line">create database db3 default charset utf8;</span><br><span class="line">	-- 以上语句表示创建一个叫db3的数据库，编码方式为 utf8,支持中文</span><br></pre></td></tr></table></figure>
<h5 id="2-3-使用数据库"><a href="#2-3-使用数据库" class="headerlink" title="2.3 使用数据库"></a>2.3 使用数据库</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">use db3;</span><br><span class="line">	-- 以上语句表示 选择数据库db3</span><br></pre></td></tr></table></figure>
<h5 id="2-4-删除数据库"><a href="#2-4-删除数据库" class="headerlink" title="2.4 删除数据库"></a>2.4 删除数据库</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">drop database db3;</span><br><span class="line">	-- 以上语句表示 删除数据库db3</span><br></pre></td></tr></table></figure>
<hr>
<h4 id="3-数据表操作"><a href="#3-数据表操作" class="headerlink" title="3.数据表操作"></a>3.数据表操作</h4><h5 id="3-1-创建表"><a href="#3-1-创建表" class="headerlink" title="3.1  创建表"></a>3.1  创建表</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line">-- 查看表</span><br><span class="line">show tables;</span><br><span class="line">-- 创建表</span><br><span class="line">-- create table 表名（数据列 类型|null|not null|auto_increment primary key) engine=innodb default charset=utf8;</span><br><span class="line">create table t1(id int not null auto_increment primary key,</span><br><span class="line">name varchar(25),</span><br><span class="line">age int</span><br><span class="line">)engine=innodb default charset=utf8;</span><br><span class="line"></span><br><span class="line">-- 设置是否为空</span><br><span class="line">-- 是否可空，null表示空，非字符串</span><br><span class="line">          --  not null    - 不可空</span><br><span class="line">          --  null        - 可空</span><br><span class="line">-- 设置默认值</span><br><span class="line">-- 默认值，创建列时可以指定默认值，当插入数据时如果未主动设置，则自动添加默认值</span><br><span class="line">            create table tb1(</span><br><span class="line">                nid int not null defalut 2,</span><br><span class="line">                num int not null</span><br><span class="line">            )</span><br><span class="line">-- 设置自增</span><br><span class="line">-- 自增，如果为某列设置自增列，插入数据时无需设置此列，默认将自增（表中只能有一个自增列）</span><br><span class="line">            create table tb1(</span><br><span class="line">                nid int not null auto_increment primary key,</span><br><span class="line">                num int null</span><br><span class="line">            )</span><br><span class="line">           -- 或</span><br><span class="line">            create table tb1(</span><br><span class="line">                nid int not null auto_increment,</span><br><span class="line">                num int null,</span><br><span class="line">                index(nid)</span><br><span class="line">            )</span><br><span class="line">           -- 注意：1、对于自增列，必须是索引（含主键）。</span><br><span class="line">              --   2、对于自增可以设置步长和起始值</span><br><span class="line">                     show session variables like &apos;auto_inc%&apos;;</span><br><span class="line">                     set session auto_increment_increment=2;</span><br><span class="line">                     set session auto_increment_offset=10;</span><br><span class="line"></span><br><span class="line">                     shwo global  variables like &apos;auto_inc%&apos;;</span><br><span class="line">                     set global auto_increment_increment=2;</span><br><span class="line">                     set global auto_increment_offset=10;</span><br><span class="line">-- 设置主键</span><br><span class="line">-- 主键，一种特殊的唯一索引，不允许有空值，如果主键使用单个列，则它的值必须唯一，如果是多列，则其组合必须唯一。</span><br><span class="line">            create table tb1(</span><br><span class="line">                nid int not null auto_increment primary key,</span><br><span class="line">                num int null</span><br><span class="line">            )</span><br><span class="line">         --   或</span><br><span class="line">            create table tb1(</span><br><span class="line">                nid int not null,</span><br><span class="line">                num int not null,</span><br><span class="line">                primary key(nid,num)</span><br><span class="line">            )</span><br><span class="line">-- 设置外键</span><br><span class="line">-- 外键，一个特殊的索引，只能是指定内容</span><br><span class="line">            creat table color(</span><br><span class="line">                nid int not null primary key,</span><br><span class="line">                name char(16) not null</span><br><span class="line">            )</span><br><span class="line"></span><br><span class="line">            create table fruit(</span><br><span class="line">                nid int not null primary key,</span><br><span class="line">                smt char(32) null ,</span><br><span class="line">                color_id int not null,</span><br><span class="line">                constraint fk_cc foreign key (color_id) references color(nid)</span><br><span class="line">            )</span><br></pre></td></tr></table></figure>
<h5 id="3-2-查看表的结构"><a href="#3-2-查看表的结构" class="headerlink" title="3.2 查看表的结构"></a>3.2 查看表的结构</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">-- describe可以简写成desc</span><br><span class="line">describe t1;</span><br></pre></td></tr></table></figure>
<h5 id="3-3-修改表"><a href="#3-3-修改表" class="headerlink" title="3.3 修改表"></a>3.3 修改表</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">-- 添加列：</span><br><span class="line">alter table 表名 add 列名 类型</span><br><span class="line">-- 删除列：</span><br><span class="line">alter table 表名 drop column 列名</span><br><span class="line">-- 修改列：</span><br><span class="line">alter table 表名 modify column 列名 类型;  -- 类型</span><br><span class="line">alter table 表名 change 原列名 新列名 类型; -- 列名，类型</span><br><span class="line">  </span><br><span class="line">-- 添加主键：</span><br><span class="line">alter table 表名 add primary key(列名);</span><br><span class="line">-- 删除主键：</span><br><span class="line">alter table 表名 drop primary key;</span><br><span class="line">alter table 表名  modify  列名 int, drop primary key;</span><br><span class="line">-- 添加外键：</span><br><span class="line">alter table 从表 add constraint 外键名称（形如：FK_从表_主表） foreign key 从表(外键字段) references 主表(主键字段);</span><br><span class="line">-- 删除外键：</span><br><span class="line">alter table 表名 drop foreign key 外键名称</span><br><span class="line">-- 修改默认值：</span><br><span class="line">ALTER TABLE testalter_tbl ALTER i SET DEFAULT 1000;</span><br><span class="line">-- 删除默认值：</span><br><span class="line">ALTER TABLE testalter_tbl ALTER i DROP DEFAULT;</span><br></pre></td></tr></table></figure>
<h5 id="3-4-清空表"><a href="#3-4-清空表" class="headerlink" title="3.4 清空表"></a>3.4 清空表</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">-- 第一种方法,下次插入数据后自增列会从上次继续编号</span><br><span class="line">delete from t1;</span><br><span class="line">-- 第二种方法，下次插入数据后自增列从1开始编号</span><br><span class="line">truncate table t1;</span><br></pre></td></tr></table></figure>
<h5 id="3-5-删除表"><a href="#3-5-删除表" class="headerlink" title="3.5 删除表"></a>3.5 删除表</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">-- 删除表</span><br><span class="line">drop table t1;</span><br></pre></td></tr></table></figure>
<h5 id="3-6-表的数据操作"><a href="#3-6-表的数据操作" class="headerlink" title="3.6 表的数据操作"></a>3.6 表的数据操作</h5><h5 id="3-6-1-数据类型"><a href="#3-6-1-数据类型" class="headerlink" title="3.6.1 数据类型"></a>3.6.1 数据类型</h5><p>MySQL的数据类型大致分为：数值、时间和字符串<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><span class="line">bit[(M)]</span><br><span class="line">          二进制位（101001），m表示二进制位的长度（1-64），默认m＝1</span><br><span class="line">      tinyint[(m)] [unsigned] [zerofill]</span><br><span class="line">          小整数，数据类型用于保存一些范围的整数数值范围：</span><br><span class="line">          有符号：</span><br><span class="line">              -128 ～ 127.</span><br><span class="line">          无符号：～ 255</span><br><span class="line">          特别的： MySQL中无布尔值，使用tinyint(1)构造。</span><br><span class="line">      int[(m)][unsigned][zerofill]</span><br><span class="line">          整数，数据类型用于保存一些范围的整数数值范围：</span><br><span class="line">              有符号：</span><br><span class="line">                  -2147483648 ～ 2147483647</span><br><span class="line">              无符号：～ 4294967295</span><br><span class="line">          特别的：整数类型中的m仅用于显示，对存储范围无限制。例如： int(5),当插入数据2时，select 时数据显示为： 00002</span><br><span class="line">      bigint[(m)][unsigned][zerofill]</span><br><span class="line">          大整数，数据类型用于保存一些范围的整数数值范围：</span><br><span class="line">              有符号：</span><br><span class="line">                  -9223372036854775808 ～ 9223372036854775807</span><br><span class="line">              无符号：～  18446744073709551615</span><br><span class="line">      decimal[(m[,d])] [unsigned] [zerofill]</span><br><span class="line">          准确的小数值，m是数字总个数（负号不算），d是小数点后个数。 m最大值为65，d最大值为30。</span><br><span class="line">          特别的：对于精确数值计算时需要用此类型</span><br><span class="line">                 decaimal能够存储精确值的原因在于其内部按照字符串存储。</span><br><span class="line">      FLOAT[(M,D)] [UNSIGNED] [ZEROFILL]</span><br><span class="line">          单精度浮点数（非准确小数值），m是数字总个数，d是小数点后个数。</span><br><span class="line">              无符号：</span><br><span class="line">                  -3.402823466E+38 to -1.175494351E-38,</span><br><span class="line">                  1.175494351E-38 to 3.402823466E+38</span><br><span class="line">              有符号：</span><br><span class="line">                  1.175494351E-38 to 3.402823466E+38</span><br><span class="line">          **** 数值越大，越不准确 ****</span><br><span class="line">      DOUBLE[(M,D)] [UNSIGNED] [ZEROFILL]</span><br><span class="line">          双精度浮点数（非准确小数值），m是数字总个数，d是小数点后个数。</span><br><span class="line">              无符号：</span><br><span class="line">                  -1.7976931348623157E+308 to -2.2250738585072014E-308</span><br><span class="line">                  2.2250738585072014E-308 to 1.7976931348623157E+308</span><br><span class="line">              有符号：</span><br><span class="line">                  2.2250738585072014E-308 to 1.7976931348623157E+308</span><br><span class="line">          **** 数值越大，越不准确 ****</span><br><span class="line">      char (m)</span><br><span class="line">          char数据类型用于表示固定长度的字符串，可以包含最多达255个字符。其中m代表字符串的长度。</span><br><span class="line">          PS: 即使数据小于m长度，也会占用m长度</span><br><span class="line">      varchar(m)</span><br><span class="line">          varchars数据类型用于变长的字符串，可以包含最多达255个字符。其中m代表该数据类型所允许保存的字符串的最大长度，只要长度小于该最大值的字符串都可以被保存在该数据类型中。</span><br><span class="line">          注：虽然varchar使用起来较为灵活，但是从整个系统的性能角度来说，char数据类型的处理速度更快，有时甚至可以超出varchar处理速度的50%。因此，用户在设计数据库时应当综合考虑各方面的因素，以求达到最佳的平衡</span><br><span class="line">      text</span><br><span class="line">          text数据类型用于保存变长的大字符串，可以组多到65535 (2**16 − 1)个字符。</span><br><span class="line">      mediumtext</span><br><span class="line">          A TEXT column with a maximum length of 16,777,215 (2**24 − 1) characters.</span><br><span class="line">      longtext</span><br><span class="line">          A TEXT column with a maximum length of 4,294,967,295 or 4GB (2**32 − 1) characters.</span><br><span class="line">      enum</span><br><span class="line">          枚举类型，</span><br><span class="line">          An ENUM column can have a maximum of 65,535 distinct elements. (The practical limit is less than 3000.)</span><br><span class="line">          示例：</span><br><span class="line">              CREATE TABLE shirts (</span><br><span class="line">                  name VARCHAR(40),</span><br><span class="line">                  size ENUM(&apos;x-small&apos;, &apos;small&apos;, &apos;medium&apos;, &apos;large&apos;, &apos;x-large&apos;)</span><br><span class="line">              );</span><br><span class="line">              INSERT INTO shirts (name, size) VALUES (&apos;dress shirt&apos;,&apos;large&apos;), (&apos;t-shirt&apos;,&apos;medium&apos;),(&apos;polo shirt&apos;,&apos;small&apos;);</span><br><span class="line">      set</span><br><span class="line">          集合类型</span><br><span class="line">          A SET column can have a maximum of 64 distinct members.</span><br><span class="line">          示例：</span><br><span class="line">              CREATE TABLE myset (col SET(&apos;a&apos;, &apos;b&apos;, &apos;c&apos;, &apos;d&apos;));</span><br><span class="line">              INSERT INTO myset (col) VALUES (&apos;a,d&apos;), (&apos;d,a&apos;), (&apos;a,d,a&apos;), (&apos;a,d,d&apos;), (&apos;d,a,d&apos;);</span><br><span class="line">      DATE</span><br><span class="line">          YYYY-MM-DD（1000-01-01/9999-12-31）</span><br><span class="line">      TIME</span><br><span class="line">          HH:MM:SS（&apos;-838:59:59&apos;/&apos;838:59:59&apos;）</span><br><span class="line">      YEAR</span><br><span class="line">          YYYY（1901/2155）</span><br><span class="line">      DATETIME</span><br><span class="line">          YYYY-MM-DD HH:MM:SS（1000-01-01 00:00:00/9999-12-31 23:59:59    Y）</span><br><span class="line">      TIMESTAMP</span><br><span class="line">          YYYYMMDD HHMMSS（1970-01-01 00:00:00/2037 年某时）</span><br></pre></td></tr></table></figure></p>
<h5 id="3-6-2-插入数据"><a href="#3-6-2-插入数据" class="headerlink" title="3.6.2 插入数据"></a>3.6.2 插入数据</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">insert into t1(name,age) values(&apos;wx&apos;,28);</span><br><span class="line">insert into t1(name,age) values(&apos;df&apos;,48);</span><br><span class="line">insert into t1(name,age) values(&apos;er&apos;,22);</span><br><span class="line">insert into t1(name,age) values(&apos;刘德华&apos;,58);</span><br></pre></td></tr></table></figure>
<h5 id="3-6-3-查询数据"><a href="#3-6-3-查询数据" class="headerlink" title="3.6.3 查询数据"></a>3.6.3 查询数据</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select * from t1;</span><br></pre></td></tr></table></figure>
<h5 id="3-6-4-修改数据"><a href="#3-6-4-修改数据" class="headerlink" title="3.6.4 修改数据"></a>3.6.4 修改数据</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">update t1 set name=&apos;庞龙&apos; where id =1;</span><br></pre></td></tr></table></figure>
      
    </div>

    

    
    
    

    

    
      
    
    

    
      <div>
        




  



<ul class="post-copyright">
  <li class="post-copyright-author">
    <strong>本文作者： </strong>渝周郎</li>
  <li class="post-copyright-link">
    <strong>本文链接：</strong>
    
    <a href="http://www.139139.cn/8eb5804a.html" title="MySQL语法-Day57">http://www.139139.cn/8eb5804a.html</a>
  </li>
  <li class="post-copyright-license">
    <strong>版权声明： </strong>本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="noopener" target="_blank"><i class="fa fa-fw fa-creative-commons"></i>BY-NC-SA</a> 许可协议。转载请注明出处！</li>
</ul>

      </div>
    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/mysql/" rel="tag"><i class="fa fa-tag"></i> mysql</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/cc98eab6.html" rel="next" title="IO多路复用-Day42">
                <i class="fa fa-chevron-left"></i> IO多路复用-Day42
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/e2eb133.html" rel="prev" title="MySQL语法（视图、函数、触发器、存储过程、事务、条件语句、循环语句、动态SQL）-Day61">
                MySQL语法（视图、函数、触发器、存储过程、事务、条件语句、循环语句、动态SQL）-Day61 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>


  </div>


          </div>
          

  
    <div class="comments" id="comments">
    </div>

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">渝周郎</p>
              <div class="site-description motion-element" itemprop="description">记录工作点滴,业余学习点滴</div>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives/">
                
                    <span class="site-state-item-count">41</span>
                    <span class="site-state-item-name">日志</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-categories">
                  
                    
                      <a href="/categories/">
                    
                  
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">4</span>
                    <span class="site-state-item-name">分类</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-tags">
                  
                    
                      <a href="/tags/">
                    
                  
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">13</span>
                    <span class="site-state-item-name">标签</span>
                  </a>
                </div>
              
            </nav>
          

          

          

          
            <div class="links-of-author motion-element">
              
                <span class="links-of-author-item">
                  
                  
                    
                  
                  
                    
                  
                  <a href="https://github.com/zdjzdr" title="GitHub &rarr; https://github.com/zdjzdr" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i>GitHub</a>
                </span>
              
                <span class="links-of-author-item">
                  
                  
                    
                  
                  
                    
                  
                  <a href="mailto:zdjzdr@163.com" title="E-Mail &rarr; mailto:zdjzdr@163.com" rel="noopener" target="_blank"><i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                </span>
              
            </div>
          

          
             <div class="cc-license motion-element" itemprop="license">
              
              
                
              
              
              
              <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" class="cc-opacity" rel="noopener" target="_blank"><img src="/images/cc-by-nc-sa.svg" alt="Creative Commons"/></a>
             </div>
          

          
          

          
            
          
          

        </div>
      </div>

      
      <!--noindex-->
        <div class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
            
            
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#MySQL语法-Day57"><span class="nav-number">1.</span> <span class="nav-text">MySQL语法-Day57</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-用户、权限操作"><span class="nav-number">1.0.1.</span> <span class="nav-text">1. 用户、权限操作</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#1-1-用户操作"><span class="nav-number">1.0.1.1.</span> <span class="nav-text">1.1 用户操作</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#1-2-权限操作"><span class="nav-number">1.0.1.2.</span> <span class="nav-text">1.2 权限操作</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#1-2-1-权限说明"><span class="nav-number">1.0.1.2.1.</span> <span class="nav-text">1.2.1 权限说明</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#1-2-2-目标数据库说明"><span class="nav-number">1.0.1.2.2.</span> <span class="nav-text">1.2.2 目标数据库说明</span></a></li></ol></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-数据库操作"><span class="nav-number">1.0.2.</span> <span class="nav-text">2. 数据库操作</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#2-1-显示数据库"><span class="nav-number">1.0.2.1.</span> <span class="nav-text">2.1 显示数据库</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#2-2-创建数据库"><span class="nav-number">1.0.2.2.</span> <span class="nav-text">2.2 创建数据库</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#2-3-使用数据库"><span class="nav-number">1.0.2.3.</span> <span class="nav-text">2.3 使用数据库</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#2-4-删除数据库"><span class="nav-number">1.0.2.4.</span> <span class="nav-text">2.4 删除数据库</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-数据表操作"><span class="nav-number">1.0.3.</span> <span class="nav-text">3.数据表操作</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#3-1-创建表"><span class="nav-number">1.0.3.1.</span> <span class="nav-text">3.1  创建表</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#3-2-查看表的结构"><span class="nav-number">1.0.3.2.</span> <span class="nav-text">3.2 查看表的结构</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#3-3-修改表"><span class="nav-number">1.0.3.3.</span> <span class="nav-text">3.3 修改表</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#3-4-清空表"><span class="nav-number">1.0.3.4.</span> <span class="nav-text">3.4 清空表</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#3-5-删除表"><span class="nav-number">1.0.3.5.</span> <span class="nav-text">3.5 删除表</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#3-6-表的数据操作"><span class="nav-number">1.0.3.6.</span> <span class="nav-text">3.6 表的数据操作</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#3-6-1-数据类型"><span class="nav-number">1.0.3.7.</span> <span class="nav-text">3.6.1 数据类型</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#3-6-2-插入数据"><span class="nav-number">1.0.3.8.</span> <span class="nav-text">3.6.2 插入数据</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#3-6-3-查询数据"><span class="nav-number">1.0.3.9.</span> <span class="nav-text">3.6.3 查询数据</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#3-6-4-修改数据"><span class="nav-number">1.0.3.10.</span> <span class="nav-text">3.6.4 修改数据</span></a></li></ol></li></ol></li></ol></li></ol></div>
            

          </div>
        </div>
      <!--/noindex-->
      

      

    </div>
  </aside>
  


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">  <a href="http://www.miitbeian.gov.cn" rel="noopener" target="_blank">渝ICP备18003765号-1 </a>&copy; 2018 – <span itemprop="copyrightYear">2019</span>
  <span class="with-love" id="animate">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">渝周郎</span>

  
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-area-chart"></i>
    </span>
    
      <span class="post-meta-item-text">站点总字数：</span>
    
    <span title="站点总字数">132k</span>
  

  
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
    
      <span class="post-meta-item-text">站点阅读时长 &asymp;</span>
    
    <span title="站点阅读时长">2:01</span>
  
</div>









        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>

  
    <span class="post-meta-item-icon">
      <i class="fa fa-user"></i>
    </span>
    <span class="site-uv" title="总访客量">
      <span class="busuanzi-value" id="busuanzi_value_site_uv"></span>
    </span>
  

  
    <span class="post-meta-divider">|</span>
  

  
    <span class="post-meta-item-icon">
      <i class="fa fa-eye"></i>
    </span>
    <span class="site-pv" title="总访问量">
      <span class="busuanzi-value" id="busuanzi_value_site_pv"></span>
    </span>
  
</div>









        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
          <span id="scrollpercent"><span>0</span>%</span>
        
      </div>
    

    

    
      <div>
        
  <script>
    window._bd_share_config = {
      "common": {
        "bdText": "",
        "bdMini": "1",
        "bdMiniList": false,
        "bdPic": ""
      },
      "image": {
        "viewList": ["tsina", "douban", "sqq", "qzone", "weixin", "twi", "fbook"],
        "viewText": "分享到：",
        "viewSize": "16"
      },
      "slide": {
        "bdImg": "5",
        "bdPos": "left",
        "bdTop": "100"
      }
    }
  </script>

<script>
  with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='//bdimg.share.baidu.com/static/api/js/share.js?cdnversion='+~(-new Date()/36e5)];
</script>

      </div>
    

    
  </div>

  

<script>
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>


























  
  <script src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>


  


  <script src="/js/utils.js?v=7.1.0"></script>

  <script src="/js/motion.js?v=7.1.0"></script>



  
  


  <script src="/js/affix.js?v=7.1.0"></script>

  <script src="/js/schemes/pisces.js?v=7.1.0"></script>




  
  <script src="/js/scrollspy.js?v=7.1.0"></script>
<script src="/js/post-details.js?v=7.1.0"></script>



  


  <script src="/js/next-boot.js?v=7.1.0"></script>


  

  

  

  
  

<script src="//cdn1.lncld.net/static/js/3.11.1/av-min.js"></script>



<script src="//unpkg.com/valine/dist/Valine.min.js"></script>

<script>
  var GUEST = ['nick', 'mail', 'link'];
  var guest = 'nick,mail,link';
  guest = guest.split(',').filter(function(item) {
    return GUEST.indexOf(item) > -1;
  });
  new Valine({
    el: '#comments',
    verify: true,
    notify: false,
    appId: 'DhQiBR246MEWhwT09Hit4xE0-gzGzoHsz',
    appKey: '5GpO8lNHcMTcEhGPvdP47YT0',
    placeholder: '留下您的评论！',
    avatar: 'mm',
    meta: guest,
    pageSize: '10' || 10,
    visitor: true,
    lang: '' || 'zh-cn'
  });
</script>




  


  
  <script>
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url).replace(/\/{2,}/g, '/');
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x"></i></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x"></i></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  

  

  

  

  

  

  

  

  

  

  
<script>
  $('.highlight').each(function(i, e) {
    var $wrap = $('<div>').addClass('highlight-wrap');
    $(e).after($wrap);
    $wrap.append($('<button>').addClass('copy-btn').append('复制').on('click', function(e) {
      var code = $(this).parent().find('.code').find('.line').map(function(i, e) {
        return $(e).text();
      }).toArray().join('\n');
      var ta = document.createElement('textarea');
      var yPosition = window.pageYOffset || document.documentElement.scrollTop;
      ta.style.top = yPosition + 'px'; // Prevent page scroll
      ta.style.position = 'absolute';
      ta.style.opacity = '0';
      ta.readOnly = true;
      ta.value = code;
      document.body.appendChild(ta);
      ta.select();
      ta.setSelectionRange(0, code.length);
      ta.readOnly = false;
      var result = document.execCommand('copy');
      
        if (result) $(this).text('复制成功');
        else $(this).text('复制失败');
      
      ta.blur(); // For iOS
      $(this).blur();
    })).on('mouseleave', function(e) {
      var $b = $(this).find('.copy-btn');
      setTimeout(function() {
        $b.text('复制');
      }, 300);
    }).append(e);
  })
</script>


  

  

</body>
</html>
